(this["webpackJsonpoverwatch-logs"]=this["webpackJsonpoverwatch-logs"]||[]).push([[0],{125:function(e,a,t){e.exports={Background:"Spinner_Background__1pu95",Loader:"Spinner_Loader__3yop2",load4:"Spinner_load4__1ZdaZ"}},130:function(e,a,t){e.exports={Layout:"Layout_Layout__2ET4a",Content:"Layout_Content__1DyxT"}},163:function(e,a,t){e.exports={Card:"Card_Card__1o_Pl"}},164:function(e,a,t){e.exports={ErrorMessage:"ErrorMessage_ErrorMessage__XKeK6"}},171:function(e,a,t){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__3EcD6"}},172:function(e,a,t){e.exports=t.p+"static/media/logo.77f3995e.png"},173:function(e,a,t){e.exports={Logo:"Logo_Logo__1SHtx"}},174:function(e,a,t){e.exports={NavigationItems:"NavigationItems_NavigationItems__3JHgv"}},175:function(e,a,t){e.exports={Backdrop:"Backdrop_Backdrop__27kTu"}},176:function(e,a,t){e.exports={ResetPassword:"ResetPassword_ResetPassword__211kZ"}},177:function(e,a,t){e.exports={CreateLog:"CreateLog_CreateLog__2hTAa"}},194:function(e,a,t){e.exports=t(344)},32:function(e,a,t){"use strict";var r=t(0),n=t.n(r),o=t(125),l=t.n(o);a.a=function(e){var a="";return e.showBackground&&(a=l.a.Background),n.a.createElement("div",{className:a},n.a.createElement("div",{className:l.a.Loader},"Loading..."))}},342:function(e,a,t){},343:function(e,a,t){},344:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(8),l=t.n(o),s=t(29),i=t(27),c=t.n(i),m=t(23),u=t(24),d=t(26),p=t(25),g=t(49),f=t(349),h=t(350),E=t(103),v=n.a.createContext({authenticated:!1,logout:function(){},login:function(){}}),w=t(38),y=t(32),_=t(39),b=t(70),S=t.n(b),k=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={error:null,loading:!1},e.handleSubmit=function(a){a.preventDefault(),e.props.form.validateFields((function(a,t){if(!a){e.setState({error:null,loading:!0});var r={email:t.email,password:t.password};c.a.post("user/login",r).then((function(a){localStorage.setItem("token",a.data.token),c.a.defaults.headers.common.Authorization=a.data.token,e.setState({loading:!1}),e.context.login(),e.props.history.push("/")})).catch((function(a){e.setState({error:a.response.data.message,loading:!1}),console.log(a.response)}))}}))},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,t=a.error,r=a.loading,o=n.a.createElement(f.a,{onSubmit:this.handleSubmit,className:S.a.loginForm},n.a.createElement(f.a.Item,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(n.a.createElement(h.a,{placeholder:"E-mail"}))),n.a.createElement(f.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your password!"},{pattern:/^(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z!@#$%^&*]{6,18}$/,message:"Must be 6-18 chars (include 1 letter and number)"},{validator:this.validateToNextPassword}]})(n.a.createElement(h.a,{type:"password",placeholder:"Password"}))),n.a.createElement(f.a.Item,null,n.a.createElement(E.a,{type:"primary",htmlType:"submit",className:S.a.loginFormButton},"Log in")),n.a.createElement(f.a.Item,null,n.a.createElement(s.b,{to:"/recovery/password",className:S.a.loginFormForgot},"Forgot password"),"Or ",n.a.createElement(s.b,{to:"/register"},"register now!")));return n.a.createElement("div",{className:S.a.Login},n.a.createElement(w.a,null,n.a.createElement("h1",null,"Login"),r&&n.a.createElement(y.a,{showBackground:!0}),t&&n.a.createElement(_.a,null,t," Try again!"),o))}}]),t}(r.Component);k.contextType=v;var F=f.a.create({name:"normal_login "})(k),P=t(347),C=t(12),N=t(93),x=t.n(N),L=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={confirmDirty:!1,error:null,loading:!1},e.handleSubmit=function(a){a.preventDefault(),e.props.form.validateFieldsAndScroll((function(a,t){if(!a){e.setState({error:null,loading:!0}),console.log("Received values of form: ",t);var r={name:t.name,email:t.email,password:t.password};c.a.post("/user/signup",r).then((function(a){e.setState({loading:!1}),e.props.history.push("/login")})).catch((function(a){console.log(a.response),e.setState({error:a.response.data.message,loading:!1})}))}}))},e.handleConfirmBlur=function(a){var t=a.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!t})},e.compareToFirstPassword=function(a,t,r){var n=e.props.form;t&&t!==n.getFieldValue("password")?r("Two passwords that you enter is inconsistent!"):r()},e.validateToNextPassword=function(a,t,r){var n=e.props.form;t&&e.state.confirmDirty&&n.validateFields(["confirm"],{force:!0}),r()},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,t=a.error,r=a.loading,o={wrapperCol:{xs:{span:24,offset:10},sm:{span:15,offset:7}}};return n.a.createElement("div",{className:x.a.Register},n.a.createElement(w.a,null,n.a.createElement("h1",null,"Create your account"),t&&"User validation failed: email: E-mail address already exists."===t?n.a.createElement(_.a,null,"E-mail address already exists."):null,r&&n.a.createElement(y.a,{showBackground:!0}),n.a.createElement(f.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),n.a.createElement(f.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(n.a.createElement(h.a,null))),n.a.createElement(f.a.Item,{label:n.a.createElement("span",null,"Name\xa0",n.a.createElement(P.a,{title:"What do you want others to call you?"},n.a.createElement(C.a,{type:"question-circle-o"})))},e("name",{rules:[{required:!0,message:"Please input your name!",whitespace:!0}]})(n.a.createElement(h.a,null))),n.a.createElement(f.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your Password!"},{pattern:/^(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z!@#$%^&*]{6,18}$/,message:"Must be 6-18 chars (include 1 letter and number)"},{validator:this.validateToNextPassword}]})(n.a.createElement(h.a.Password,null))),n.a.createElement(f.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(h.a.Password,{onBlur:this.handleConfirmBlur}))),n.a.createElement(f.a.Item,o,n.a.createElement(E.a,{className:x.a.Button,type:"primary",htmlType:"submit"},"Register"),n.a.createElement(s.b,{to:"/login",className:x.a.loginFormForgot},"Login in")))))}}]),t}(r.Component),O=f.a.create({name:"register"})(L),T=t(171),D=t.n(T),j=function(e){return n.a.createElement("div",{className:D.a.DrawerToggle,onClick:e.clicked},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))},B=t(172),I=t.n(B),R=t(173),A=t.n(R),q=function(){return n.a.createElement("div",{className:A.a.Logo},n.a.createElement("img",{src:I.a,alt:"OW Logo"}))},M=t(94),z=t.n(M),Z=function(e){var a=null;switch(e.itemType){case"logout":a=n.a.createElement(s.c,{to:e.link,exact:e.exact,activeClassName:z.a.active,onClick:e.clicked},e.children);break;default:a=n.a.createElement(s.c,{to:e.link,exact:e.exact,activeClassName:z.a.active},e.children)}return n.a.createElement("li",{className:z.a.NavigationItem},a)},$=t(174),H=t.n($),J=function(e){return n.a.createElement("ul",{className:H.a.NavigationItems},n.a.createElement(Z,{link:"/",exact:!0},"Main Page"),n.a.createElement(Z,{link:"/create"},"Create Log"),n.a.createElement(v.Consumer,null,(function(e){return n.a.createElement(Z,{clicked:e.logout,itemType:"logout",link:"/login"},"Logout")})))},K=t(95),U=t.n(K),W=function(e){return n.a.createElement("header",{className:U.a.Toolbar},n.a.createElement(j,{clicked:e.drawerToggleClicked}),n.a.createElement("div",{className:U.a.Logo},n.a.createElement(q,null)),n.a.createElement("nav",{className:U.a.MobileOnly},n.a.createElement(J,null)))},V=t(175),X=t.n(V),G=function(e){return e.showBackdrop?n.a.createElement("div",{className:X.a.Backdrop,onClick:e.clicked}):null},Y=t(65),Q=t.n(Y),ee=function(e){var a=e.isOpen?[Q.a.SideDrawer,Q.a.Open]:[Q.a.SideDrawer,Q.a.Close];return n.a.createElement(n.a.Fragment,null,n.a.createElement(G,{showBackdrop:e.isOpen,clicked:e.close}),n.a.createElement("div",{className:a.join(" "),onClick:e.close},n.a.createElement("div",{className:Q.a.Logo},n.a.createElement(q,null)),n.a.createElement("nav",null,n.a.createElement(J,null))))},ae=t(130),te=t.n(ae),re=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={sideDrawerIsShown:!1},e.toggleSideDrawerHandler=function(){e.setState((function(e){return{sideDrawerIsShown:!e.sideDrawerIsShown}}))},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:te.a.Layout},n.a.createElement(v.Consumer,null,(function(a){return a.authenticated?n.a.createElement(n.a.Fragment,null,n.a.createElement(W,{drawerToggleClicked:e.toggleSideDrawerHandler}),n.a.createElement(ee,{isOpen:e.state.sideDrawerIsShown,close:e.toggleSideDrawerHandler})):null})),n.a.createElement("main",{className:te.a.Content},this.props.children))}}]),t}(r.Component),ne=t(96),oe=t.n(ne),le=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={emailSentMessage:!1,error:null,loading:!1},e.handleSubmit=function(a){a.preventDefault(),e.props.form.validateFields((function(a,t){if(!a){e.setState({error:null,loading:!0});var r={email:t.email};console.log("Received values of form: ",t),c.a.post("user/recovery",r).then((function(a){console.log(a),e.setState({emailSentMessage:!0,loading:!1})})).catch((function(a){console.log(a.response.data.message),e.setState({error:a.response.data.message,loading:!1})}))}}))},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,t=a.emailSentMessage,r=a.error,o=a.loading,l=t?n.a.createElement("p",null,"An email has been sent to the supplied email address. Please, follow the instruction in the email to reset your password."):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"We will send a password reset link to your email address."),n.a.createElement(f.a,{onSubmit:this.handleSubmit,className:oe.a.loginForm},n.a.createElement(f.a.Item,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(n.a.createElement(h.a,{placeholder:"E-mail"}))),n.a.createElement(f.a.Item,null,n.a.createElement(E.a,{type:"primary",htmlType:"submit",className:oe.a.loginFormButton},"Reset password")),n.a.createElement(f.a.Item,null,n.a.createElement(s.b,{to:"/login"},"Login in"))));return n.a.createElement("div",{className:oe.a.RecoveryPassword},n.a.createElement(w.a,null,n.a.createElement("h1",null,"Recover your password"),r&&n.a.createElement(_.a,null,r),o&&n.a.createElement(y.a,{showBackground:!0}),l))}}]),t}(r.Component),se=f.a.create({name:"normal_login "})(le),ie=t(352),ce=t(176),me=t.n(ce),ue=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={confirmDirty:!1,loading:!1,error:null},e.handleSubmit=function(a){a.preventDefault(),e.setState({loading:!0,error:null}),e.props.form.validateFieldsAndScroll((function(a,t){if(!a){console.log("Received values of form: ",t);var r={token:e.props.match.params.token,password:t.password};c.a.put("/user/reset",r).then((function(a){e.setState({loading:!1}),ie.a.success({content:"Success!",key:"updatable",duration:.5}),console.log(a),e.props.history.push("/login"),console.log(e.props)})).catch((function(a){console.log(a.response),e.setState({error:a.response.data.message,loading:!1})}))}}))},e.handleConfirmBlur=function(a){var t=a.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!t})},e.compareToFirstPassword=function(a,t,r){var n=e.props.form;t&&t!==n.getFieldValue("password")?r("Two passwords that you enter is inconsistent!"):r()},e.validateToNextPassword=function(a,t,r){var n=e.props.form;t&&e.state.confirmDirty&&n.validateFields(["confirm"],{force:!0}),r()},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,t=a.error,r=a.loading,o={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return n.a.createElement("div",{className:me.a.ResetPassword},n.a.createElement(w.a,null,n.a.createElement("h1",null,"Reset your password"),t&&n.a.createElement(_.a,null,t),r&&n.a.createElement(y.a,{showBackground:!0}),n.a.createElement(f.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),n.a.createElement(f.a.Item,{label:"New Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your Password!"},{pattern:/^(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z!@#$%^&*]{6,18}$/,message:"Must be 6-18 chars (include 1 letter and number)"},{validator:this.validateToNextPassword}]})(n.a.createElement(h.a.Password,null))),n.a.createElement(f.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(h.a.Password,{onBlur:this.handleConfirmBlur}))),n.a.createElement(f.a.Item,o,n.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Send Password")))))}}]),t}(r.Component),de=f.a.create({name:"reset"})(ue),pe=t(9),ge=t.n(pe),fe=t(346),he=t(348),Ee=t(351),ve=t(177),we=t.n(ve),ye=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={error:null,loading:!1},e.handleSubmit=function(a){a.preventDefault(),e.props.form.validateFieldsAndScroll((function(a,t){if(!a){e.setState({error:null,loading:!0});var r={role:t.role,rating:t.rating,date:t.date};console.log("Received values of form: ",t),c.a.post("/log/create",r).then((function(a){e.setState({loading:!1}),ie.a.success("The Log has been successfully created!",1.3)})).catch((function(a){e.setState({error:a.data.message})}))}}))},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,t=a.error,r=a.loading?n.a.createElement(y.a,null):n.a.createElement(f.a,{onSubmit:this.handleSubmit},n.a.createElement(f.a.Item,null,e("role",{initialValue:"1",rules:[{required:!0,message:"Please choose your role!"}]})(n.a.createElement(fe.a.Group,{buttonStyle:"solid",size:"large"},n.a.createElement(fe.a.Button,{value:"1"},"Tank"),n.a.createElement(fe.a.Button,{value:"2"},"Damage"),n.a.createElement(fe.a.Button,{value:"3"},"Support")))),n.a.createElement(f.a.Item,null,e("date",{initialValue:ge()(),rules:[{type:"object",required:!0,message:"Please select time!"}]})(n.a.createElement(he.a,{size:"large"}))),n.a.createElement(f.a.Item,null,e("rating",{rules:[{required:!0,message:"You forgot to type your rating!"}]})(n.a.createElement(Ee.a,{min:1,max:6e3,size:"large"}))),n.a.createElement(f.a.Item,null,n.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Submit")));return n.a.createElement("div",{className:we.a.CreateLog},n.a.createElement(w.a,null,t&&n.a.createElement(_.a,null,t),r))}}]),t}(r.Component),_e=f.a.create({name:"createLog"})(ye),be=n.a.lazy((function(){return Promise.all([t.e(3),t.e(4)]).then(t.bind(null,439))})),Se=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={isAuthenticated:!!localStorage.token},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.state.isAuthenticated;console.log(a);var t=n.a.createElement(g.d,null,n.a.createElement(g.b,{path:"/login",component:F}),n.a.createElement(g.b,{path:"/recovery/password",component:se}),n.a.createElement(g.b,{path:"/register",component:O}),n.a.createElement(g.b,{path:"/reset/password/:token",component:de}),n.a.createElement(g.a,{to:"/login"}));return a&&(t=n.a.createElement(g.d,null,n.a.createElement(g.b,{path:"/create",component:_e}),n.a.createElement(g.b,{path:"/",component:be}))),n.a.createElement("div",null,n.a.createElement(v.Provider,{value:{authenticated:a,logout:function(){localStorage.clear(),e.setState({isAuthenticated:!1})},login:function(){e.setState({isAuthenticated:!0})}}},n.a.createElement(re,null,t)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(341),t(342),t(343);c.a.defaults.baseURL="https://ow-logger.herokuapp.com/api/",c.a.defaults.headers.common.Authorization=localStorage.token;var ke=n.a.createElement(s.a,null,n.a.createElement(r.Suspense,{fallback:n.a.createElement(y.a,null)},n.a.createElement(Se,null)));l.a.render(ke,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,a,t){"use strict";var r=t(0),n=t.n(r),o=t(163),l=t.n(o);a.a=function(e){return n.a.createElement("div",{className:l.a.Card},e.children)}},39:function(e,a,t){"use strict";var r=t(0),n=t.n(r),o=t(164),l=t.n(o);a.a=function(e){return n.a.createElement("div",{className:l.a.ErrorMessage},e.children)}},65:function(e,a,t){e.exports={SideDrawer:"SideDrawer_SideDrawer__xFb1M",Open:"SideDrawer_Open__3Jfp3",Close:"SideDrawer_Close__21k-g",Logo:"SideDrawer_Logo__3j9TJ"}},70:function(e,a,t){e.exports={Login:"Login_Login__2_m8j",loginForm:"Login_loginForm__3ORBP",loginFormForgot:"Login_loginFormForgot__8_N58",loginFormButton:"Login_loginFormButton__3F3aK"}},93:function(e,a,t){e.exports={Register:"Register_Register__2JoUu",Button:"Register_Button__3fALq",loginFormForgot:"Register_loginFormForgot__13uKE"}},94:function(e,a,t){e.exports={NavigationItem:"NavigationItem_NavigationItem__jZrKL",active:"NavigationItem_active__1ktGU"}},95:function(e,a,t){e.exports={Toolbar:"Toolbar_Toolbar__1SFCF",Logo:"Toolbar_Logo__kU-qE",MobileOnly:"Toolbar_MobileOnly__3kH71"}},96:function(e,a,t){e.exports={RecoveryPassword:"RecoveryPassword_RecoveryPassword__3s-q3",loginForm:"RecoveryPassword_loginForm__FX38X",loginFormButton:"RecoveryPassword_loginFormButton__mgDLg"}}},[[194,1,2]]]);
//# sourceMappingURL=main.01088a28.chunk.js.map